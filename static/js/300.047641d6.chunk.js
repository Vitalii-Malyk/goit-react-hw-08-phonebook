"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[300],{6521:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r=t(7689),o=t(9434),i=t(5047),a=t(8022),c=t(6880),u=t(9439),s=t(2791),d=t(5264),l=t(6487),f=(0,l.ZP)("form")((function(){return{display:"flex",flexDirection:"column",gap:"18px",width:"fit-content"}})),p=(0,l.ZP)("input")((function(){return{border:"none",backgroundColor:"antiquewhite",padding:"4px",borderRadius:"5px"}})),m=(0,l.ZP)("button")((function(){return{appearance:"none",border:"0",borderRadius:"5px",background:"antiquewhite",color:"darkslategray",padding:"4px",fontSize:"16px",cursor:"pointer"}})),h=t(3871),x=t(6382),b=t(184),v=function(){var n=(0,s.useState)(""),e=(0,u.Z)(n,2),t=e[0],r=e[1],i=(0,s.useState)(""),a=(0,u.Z)(i,2),c=a[0],l=a[1],v=(0,o.I0)(),g=(0,o.v9)((function(n){return n.contacts})).items,j=function(n){var e=n.target,t=e.value,o=e.name;"name"===o&&r(t),"number"===o&&l(t)},k=function(){r(""),l("")},y=function(n){var e=n.name,t=n.number;Z({name:e,number:t})},Z=function(n){var e={id:(0,x.x0)(),name:n.name,number:n.number};g.length>0?g.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))?d.Notify.info("The contact is already in the phone book!",{position:"center-center",timeout:"1500"}):(v((0,h.uK)(e)),d.Notify.info("A contact named ".concat(e.name," has been added to the contacts book"),{position:"center-center",timeout:"1500"}),k()):(console.log(e),v((0,h.uK)(e)),k())};return(0,b.jsxs)(f,{onSubmit:function(n){return n.preventDefault(),y({name:t,number:c})},children:[(0,b.jsx)("label",{children:"Name"}),(0,b.jsx)(p,{onChange:j,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,required:!0}),(0,b.jsx)("label",{children:"Phone"}),(0,b.jsx)(p,{type:"tel",onChange:j,name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",value:c,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,b.jsx)(m,{type:"submit",children:"Add contact"})]})},g=t(5984),j=(0,l.ZP)("div")((function(){return{display:"flex",flexDirection:"column",gap:"7px",width:"fit-content"}})),k=(0,l.ZP)("input")((function(){return{border:"none",backgroundColor:"antiquewhite",padding:"4px",borderRadius:"5px"}})),y=(0,l.ZP)("div")((function(){return{display:"flex",alignItems:"end",gap:"10px"}})),Z=t(6895),w=t(2),C=function(){var n=(0,g.x0)(),e=(0,o.v9)((function(n){return n.filter})),t=(0,o.I0)(),r=(0,o.v9)((function(n){return n.contacts})).isLoading;return(0,b.jsxs)(y,{children:[(0,b.jsxs)(j,{children:[(0,b.jsx)("label",{htmlFor:n,children:"Filter contacts:"}),(0,b.jsx)(k,{onChange:function(n){var e=n.currentTarget.value.toLowerCase().trim();t((0,Z.a)(e))},id:n,type:"text",name:"name",value:e})]}),r&&(0,b.jsx)(w.Z,{})]})},P=t(1686),z=(0,l.ZP)("ul")((function(){return{listStyle:"none",marginTop:"5px",padding:0,fontSize:"18px",display:"flex",flexDirection:"column",gap:"5px"}})),S=(0,l.ZP)("li")((function(){return{display:"flex",gap:"8px"}})),L=(0,l.ZP)("button")((function(){return{border:"0",color:"antiquewhite",padding:"4px 6px",fontSize:"10px",cursor:"pointer",background:"transparent"}})),q=(0,l.ZP)("div")((function(){return{marginTop:"5px",fontSize:"18px"}})),A=function(){var n=(0,o.I0)(),e=(0,o.v9)((function(n){return n.contacts.isLoading})),t=(0,o.v9)((function(n){return n.contacts.error})),r=(0,o.v9)((function(n){return n.contacts})),i=(0,o.v9)((function(n){return n.auth.isAuth})),a=(0,o.v9)((function(n){return n.filters}));(0,s.useEffect)((function(){i&&n((0,h.yF)())}),[n,i]);var c=a.toLocaleLowerCase();console.log(c);var u=r.items.filter((function(n){return n.name.toLowerCase().includes(c)}));return(0,b.jsxs)(z,{children:[e&&(0,b.jsx)(w.Z,{}),t&&(0,b.jsxs)("p",{children:["Error... ",t]}),r.items.length>0?(console.log(u),u.map((function(e){return(0,b.jsxs)(S,{children:["".concat(e.name," : ").concat(e.number),(0,b.jsx)(L,{"data-id":e.id,onClick:function(){return function(e){var t=e.id,r=e.name;n((0,h.nE)(t)),P.Notify.info("The contact with the name ".concat(r," has been deleted"),{position:"center-center",autoHideDelay:1500})}(e)},children:"x"})]},(0,g.x0)())}))):(0,b.jsx)(q,{children:"The phone book is empty, add a contact"})]})},I=function(){var n=(0,o.I0)(),e=(0,r.s0)(),t=(0,o.v9)((function(n){return n.auth.user}));return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(c.t,{children:[(0,b.jsx)(a.Z,{onClick:function(){e("/")},type:"button",variant:"outlined",sx:{mt:1,mb:1},size:"small",children:"Go home"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:null===t||void 0===t?void 0:t.name}),(0,b.jsx)("p",{children:null===t||void 0===t?void 0:t.email}),(0,b.jsx)(a.Z,{onClick:function(){n((0,i.j2)()),e("/")},type:"button",variant:"contained",sx:{mt:3,mb:2},size:"small",children:"Logout"})]}),(0,b.jsx)("h1",{children:"Phonebook"}),(0,b.jsx)(v,{}),(0,b.jsx)("h2",{children:"Contacts"}),(0,b.jsx)(C,{}),(0,b.jsx)(A,{})]})})}},6880:function(n,e,t){t.d(e,{t:function(){return i}});var r=t(6487),o=t.p+"static/media/telefon-bgc.67542c66be78a8e15895.jpg",i=(0,r.ZP)("div")((function(){return{minHeight:"100vh",fontSize:24,color:"antiquewhite",backgroundImage:"url(".concat(o,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"unset",backgroundPosition:"center center"}}))}}]);
//# sourceMappingURL=300.047641d6.chunk.js.map